<?php

namespace App\Http\Controllers;

use App\Enums\QueueNameEnum;
use App\Jobs\AutoArticleAllJob;
use App\Models\BookUpdateArticle;
use App\Models\SourceArticle;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Artisan;

class StaticController extends Controller
{
    public function build_static()
    {
        $i = 1;
        SourceArticle::where('source', '4ksw')
            ->orderBy('article_id', 'desc')
            ->whereNotIn('article_id', $this->_not_in_article_ids())
            ->where('desc', 'like', '%飞卢%')
            ->chunk(100, function ($source_articles) use (&$i) {
                $static = view('static/4ksw', ['source_articles' => $source_articles])->__toString();
                file_put_contents("4ksw/{$i}.html", $static);
                $i = $i + 1;
            });;
    }

    private function _not_in_article_ids()
    {
        return ['52442', '3693', '50212', '1019', '4037', '36', '42407', '5897', '23170', '5219', '4456', '14821', '5848', '5093', '5489', '5693', '4001', '12006', '194', '55337', '236', '5811', '4468', '2623', '49350', '6257', '82', '7262', '442', '511', '7044', '6712', '14694', '12511', '42364', '45152', '56441', '51905', '5644', '38056', '46877', '29305', '48007', '994', '9404', '175', '9136', '9102', '8008', '9424', '10496', '55946', '5580', '54488', '9418', '807', '55672', '2852', '54324', '10959', '5949', '5327', '57645', '2804', '20905', '3103', '7411', '4108', '2219', '6017', '137', '5340', '594', '257', '261', '56009', '1971', '56351', '57527', '5945', '4982', '957', '895', '42885', '1052', '2613', '306', '3140', '5268', '56964', '4053', '489', '2362', '50200', '1336', '3087', '5306', '54613', '51924', '4742', '291', '1867', '3045', '4882', '56456', '790', '364', '437', '50029', '57410', '1773', '42742', '6293', '57620', '56379', '100', '3096', '45011', '46595', '25229', '43485', '1155', '17671', '51213', '6326', '6204', '44143', '18602', '5064', '41941', '43502', '55513', '55086', '4932', '3524', '48988', '51923', '2679', '37260', '29138', '52138', '36891', '54932', '45922', '88', '3892', '907', '5761', '11759', '11679', '5384', '658', '40466', '7343', '3075', '9871', '932', '4899', '44617', '4173', '500', '177', '1446', '5936', '24931', '77', '3130', '47998', '46310', '3682', '395', '11883', '818', '5961', '52276', '1428', '1383', '24190', '43671', '14839', '56633', '42681', '192', '43108', '5395', '38218', '44196', '21511', '2721', '140', '29972', '5909', '51010', '52929', '19221', '670', '1423', '310', '1092', '4040', '5449', '5334', '1412', '4352', '3268', '42804', '5933', '845', '2554', '55656', '5895', '19628', '24887', '267', '2134', '1115', '1379', '37595', '4457', '5450', '15067', '35559', '6186', '6210', '5483', '3463', '6009', '11319', '43447', '52944', '22168', '51205', '37', '23126', '56828', '51247', '56957', '37171', '6211', '54120', '51306', '2819', '6193', '5053', '3678', '49174', '12', '258', '124', '4780', '5317', '52967', '44285', '416', '406', '6112', '751', '2371', '3110', '1166', '4542', '5281', '383', '20171', '43740', '509', '28694', '29833', '19253', '20500', '399', '53853', '55131', '6291', '1654', '47942', '56237', '56842', '50861', '1910', '19944', '6139', '5497', '50705', '42571', '33344', '29386', '47722', '1524', '6289', '1130', '43486', '36527', '495', '5090', '48317', '23637', '3071', '3929', '42904', '6301', '17306', '18194', '44885', '5609', '2232', '25201', '5480', '4734', '389', '3922', '449', '4400', '2069', '5071', '55455', '1561', '3493', '47286', '24808', '5577', '53172', '56531', '163', '95', '6137', '456', '53090', '50996', '482', '3778', '55310', '42703', '698', '1175', '23068', '5820', '563', '80', '47596', '5964', '1111', '1814', '240', '56509', '1851', '337', '5705', '4459', '736', '49885', '3009', '3931', '2888', '10', '52260', '6117', '34081', '799', '2241', '631', '5894', '1063', '5109', '48991', '634', '54539', '50154', '3930', '6194', '218', '19199', '1173', '53039', '5037', '490', '1284', '4672', '50077', '6231', '279', '14596', '705', '2532', '21796', '47630', '6250', '1424', '22115', '22627', '73', '4623', '6710', '56701', '493', '393', '3908', '706', '6133', '1800', '6130', '11260', '496', '5178', '709', '1160', '567', '528', '4551', '30208', '53775', '506', '53457', '4421', '24558', '43273', '50027', '36584', '45235', '770', '5466', '54517', '167', '54236', '55782', '45782', '15484', '53230', '4389', '4730', '3038', '38272', '5758', '5296', '282', '6048', '5611', '43140', '1333', '3144', '3690', '3703', '5500', '13906', '5424', '13909', '16500', '4210', '11781', '821', '664', '42944', '9', '57152', '530', '392', '20', '11813', '34557', '12273', '861', '23618', '17629', '42222', '3201', '3713', '37976', '5843', '2204', '514', '2537', '3628', '32422', '1505', '21424', '21050', '19369', '2291', '436', '5000', '3320', '21970', '45345', '33272', '38007', '20195', '3352', '56526', '56420', '18708', '19970', '52997', '2887', '52001', '1430', '6703', '7931', '57090', '5877', '5009', '9734', '46', '56271', '11783', '11777', '46485', '52017', '50732', '52448', '45642', '54427', '6310', '44020', '12227', '38171', '425', '43544', '22753', '32', '42714', '624', '21259', '19039', '434', '4338', '44169', '15263', '25136', '5766', '3317', '23814', '43197', '55739', '16233', '53491', '4746', '57261', '19084', '51786', '1418', '11945', '51000', '45783', '30274', '21844', '42279', '43228', '42363', '19160', '37783', '44820', '53277', '1083', '4914', '51749', '44495', '44312', '37019', '52526', '1167', '24348', '18129', '14557', '32351', '1443', '55347', '1087', '1271', '5266', '2053', '29859', '18914', '47005', '5712', '32970', '51809', '24224', '42555', '55260', '19411', '45709', '676', '231', '24514', '56267', '42750', '56422', '56990', '51512', '17982', '43070', '1064', '21963', '48273', '50675', '45914', '44415', '35103', '55466', '46159', '473', '3938', '46374', '43729', '31151', '1093', '34434', '56475', '1629', '949', '5879', '15955', '3726', '46577', '13411', '294', '42733', '1831', '42223', '36081', '47946', '4363', '29715', '25057', '4894', '3415', '2030', '547', '6199', '3850', '1001', '603', '1670', '1825', '440', '23154', '2186', '47269', '3942', '1872', '46970', '2818', '13066', '1308', '3842', '183', '1792', '24982', '6116', '3943', '3921', '488', '33169', '44697', '404', '18835', '11233', '5868', '5298', '9184', '5686', '1992', '37377', '1007', '4873', '246', '54439', '57000', '1398', '4566', '47148', '35450', '55358', '6153', '12270', '53776', '3731', '1693', '50638', '12526', '23694', '429', '54084', '290', '70', '52007', '215', '1653', '6223', '34399', '18319', '50318', '53450', '60886', '45258', '53268', '54158', '56242', '6012', '35067', '56925', '56864', '2090', '20517', '19337', '23539', '56378', '53724', '37220', '6502', '674', '53322', '3141', '11629', '1012', '5915', '838', '52560', '34', '47877', '3040', '46432', '45886', '53088', '46544', '45510', '12752', '46820', '45601', '763', '43348', '44092', '18675', '5182', '52044', '51120', '45008', '42416', '350', '56726', '19047', '7247', '42258', '3964', '47448', '4544', '24867', '35111', '18640', '4385', '43340', '43143', '52744', '52239', '53079', '33483', '23506', '3981', '3642', '46321', '49913', '24091', '53349', '45945', '48274', '38161', '8', '57014', '57411', '57134', '7973', '43667', '56118', '18692', '44224', '27282', '29855', '51211', '56942', '54437', '2', '1437', '20359', '43127', '2512', '5468', '733', '6182', '521', '6172', '1315', '17009', '3886', '184', '545', '5994', '1320', '56', '1788', '5543', '138', '848', '1364', '3067', '418', '16424', '51675', '50964', '5506', '7243', '248', '1442', '43620', '6270', '4393', '5902', '18230', '5232', '41550', '36005', '1927', '54629', '36244', '42495', '36684', '55622', '13587', '42878', '44240', '23304', '44399', '4874', '53278', '43092', '56427', '51163', '52018', '51084', '679', '52974', '53160', '56507', '4378', '12680', '51511', '52292', '47861', '43074', '2431', '51988', '1266', '50716', '6256', '51420', '44340', '1928', '256', '402', '51135', '1911', '5512', '652', '53829', '43049', '51992', '4807', '50657', '11448', '11255', '745', '12252', '12550', '17754', '1492', '13700', '53057', '2281', '54955', '19426', '42233', '54298', '42524', '55202', '51565', '43077', '44090', '54118', '43400', '57418', '43613', '47879', '54710', '57617', '42699', '45203', '56593', '56547', '44941', '32590', '53406', '43190', '53273', '46943', '54776', '54680', '42709', '56193', '46716', '43415', '43360', '54292', '43310', '43952', '47770', '4252', '38294', '1502', '1171', '381', '45948', '42516', '42343', '44527', '53681', '34086', '43871', '44080', '52780', '33289', '47962', '51537', '55518', '57040', '51318', '2201', '34169', '16740', '45832', '44087', '34958', '53373', '45407', '56776', '43764', '5631', '24948', '1889', '13293', '43198', '897', '43765', '2467', '35089', '53533', '44325', '53222', '35524', '34091', '56115', '42414', '45502', '45976', '44669', '21124', '46377', '44300', '43162', '44052', '55161', '18753', '54705', '31205', '1413', '6279', '53418', '5469', '12336', '44552', '6278', '355', '50915', '55746', '43202', '5436', '47119', '42587', '54265', '56348', '45834', '43294', '45711', '43573', '44359', '52169', '43699', '52215', '43050', '50652', '45001', '47224', '44454', '54670', '52973', '51592', '51907', '43154', '43459', '53744', '43494', '37364', '56308', '53041', '17501', '47509', '51929', '3470', '43452', '42872', '44653', '42332', '6192', '3545', '42530', '53332', '50834', '42306', '56014', '12007', '46734', '53023', '42576', '55497', '43716', '50718', '51160', '56518', '56738', '47742', '46688', '52912', '51172', '42586', '43804', '42956', '3274', '25085', '156', '1847', '117', '87', '324', '44186', '53733', '37153', '38145', '54940', '56741', '53250', '52980', '33606', '56862', '53282', '54800', '34547', '53961', '53346', '33941', '31107', '32632', '31419', '52610', '54327', '51157', '54961', '54534', '10186', '523', '42996', '43590', '2189', '2409', '54763', '2432', '42268', '56716', '5312', '5519', '125', '53', '94', '76', '157', '466', '56015', '23947', '1005', '3185', '5398', '52968', '23198', '5286', '53347', '5433', '29970', '4885', '5975', '2611', '3265', '3147', '6142', '700', '5576', '5542', '53465', '123', '5161', '6021', '5899', '5529', '20969', '3117', '242', '671', '4759', '5928', '362', '3276', '3054', '42871', '3421', '45564', '12863', '367', '47074', '134', '52835', '6240', '51125', '11', '5581', '823', '6274', '53750', '9120', '8406', '57011', '45828', '1516', '5007', '52960', '51553', '57118', '830', '56459', '57244', '45181', '54099', '52983', '51242', '53075', '171', '6173', '56815', '50166', '50677', '57217', '3013', '472', '54432', '51865', '54621', '1706', '37293', '27096', '51338', '53321', '55951', '5534', '56644', '53391', '13519', '53131', '53366', '54348', '52077', '52773', '53267', '44536', '55913', '54258', '53240', '42986', '55328', '53615', '53587', '57200', '312', '55676', '2533', '839', '56007', '56603', '56966', '734', '1771', '46463', '47741', '32434', '52978', '4416', '9733', '314', '1151', '6630', '2294', '52227', '9736', '27', '12168', '45946', '6080', '4837', '6658', '21980', '54373', '46627', '2088', '44402', '57462', '47724', '887', '53789', '44105', '56896', '51308', '52854', '51225', '46196', '53027', '56044', '2817', '5320', '51877', '24541', '11258', '53424', '44576', '2717', '1094', '53586', '2685', '23066', '55956', '42843', '56401', '1146', '47730', '805', '4564', '56070', '35467', '908', '46379', '15849', '6094', '5530', '3584', '5524', '56250', '2083', '2387', '46760', '2938', '54511', '53283', '12371', '4547', '51184', '6197', '52522', '43962', '2634', '46778', '45454', '5488', '60', '56510', '47611', '48010', '54512', '56161', '22736', '5531', '411', '53488', '44992', '48435', '51858', '47295', '53365', '53298', '51269', '54161', '47829', '47267', '50728', '52000', '13167', '50967', '45606', '42456', '51291', '1004', '661', '55918', '49886', '1511', '2104', '47637', '11230', '55094', '54760', '13590', '53022', '50954', '50782', '46162', '753', '1203', '42663', '5051', '4071', '5430', '5274', '11131', '4950', '14649', '42289', '432', '1630', '43895', '5470', '51951', '32783', '5996', '51039', '6322', '6068', '1682', '11370', '19403', '9478', '6107', '3897', '6110', '5331', '3737', '6067', '5431', '6576', '16256', '52884', '45652', '32620', '4871', '11985', '12241', '5496', '3294', '2977', '914', '1667', '2075', '127', '5408', '53008', '6145', '1695', '371', '2360', '2455', '43580', '56851', '5834', '601', '298', '338', '9421', '10448', '9475', '154', '9550', '2239', '9293', '10164', '6653', '8006', '54468', '494', '8021', '161', '10676', '453', '4442', '6061', '6414', '7054', '9412', '9270', '3297', '2254', '467', '14', '53859', '37877', '14365', '309', '1114', '22204', '45288', '89', '5865', '41238', '2946', '16474', '12111', '377', '614', '5332', '35090', '284', '3790', '4498', '2950', '23793', '759', '4050', '68', '55617', '38087', '4376', '13217', '1077', '728', '525', '50650', '2102', '52', '56956', '54505', '54595', '3557', '4049', '1263', '54685', '103', '2260', '5924', '4392', '1790', '44417', '3360', '56946', '53074', '55921', '56209', '5313', '53158', '14585', '17781', '226', '4448', '548', '1355', '2968', '4589', '45024', '4503', '15', '2670', '52399', '2956', '19574', '1022', '19', '4121', '37895', '12013', '1624', '15510', '53512', '691', '768', '559', '56757', '45536', '57033', '30088', '408', '202', '3077', '4418', '978', '55663', '23091', '3700', '302', '25', '56671', '680', '52168', '5836', '1968', '55883', '1071', '3132', '34525', '3182', '40745', '56980', '53049', '5972', '55810', '52986', '2065', '5835', '5410', '6141', '49347', '19385', '42924', '55875', '1900', '3012', '6219', '3701', '45', '4410', '37311', '114', '3039', '56224', '37205', '4045', '51062', '435', '2979', '55807', '54372', '23384', '55737', '55852', '2711', '43411', '349', '24272', '16357', '32885', '52285', '56342', '1786', '54914', '3979', '318', '56996', '47279', '2841', '947', '295', '48990', '3787', '1589', '49962', '51235', '6599', '49650', '46240', '28988', '7742', '5509', '34809', '2155', '37582', '4064', '3491', '51325', '5263', '3911', '1972', '37898', '1530', '5032', '54142', '25065', '34668', '5325', '2187', '25002', '196', '4255', '49871', '4764', '51857', '5854', '421', '48469', '3573', '316', '43184', '9028', '51943', '1598', '33', '55934', '12428', '6251', '6101', '3481', '35602', '28328', '382', '276', '6711', '56099', '67', '56700', '56017', '2527', '4003', '49440', '44968', '55072', '18634', '684', '45131', '46534', '56293', '46669', '152', '4800', '38285', '5937', '5829', '84', '5337', '6212', '1048', '5605', '639', '4802', '4849', '323', '17593', '3600', '24055', '2779', '875', '37255', '47398', '4433', '773', '4971', '899', '23129', '113', '3389', '29469', '375', '13', '4845', '53006', '2905', '55714', '249', '29509', '24478', '43114', '5563', '5623', '929', '19557', '47130', '43084', '6155', '44526', '45053', '47965', '3105', '52987', '56945', '53364', '28693', '18600', '15240', '1869', '1228', '24262', '36294', '5607', '5220', '22577', '5341', '52248', '54394', '15121', '5929', '23702', '13809', '50747', '44556', '3990', '6689', '510', '11651', '6115', '4757', '2168', '883', '6159', '6623', '52897', '3836', '4042', '3019', '1605', '2438', '51388', '55130', '2228', '2836', '56689', '51185', '51480', '51224', '38024', '4981', '20391', '4754', '55061', '46415', '53154', '6655', '45171', '5614', '1256', '1906', '1202', '55866', '4486', '56961', '3235', '5234', '6089', '33071', '37702', '6170', '29839', '5797', '5914', '2969', '30224', '32111', '868', '1295', '2751', '1485', '38050', '42738', '18140', '18031', '5515', '5250', '13584', '3599', '3181', '53185', '933', '57058', '1046', '51171', '42627', '6002', '23374', '1614', '32704', '5603', '6163', '2043', '10446', '1989', '6283', '55380', '824', '360', '1931', '4940', '56810', '52245', '46332', '5389', '1735', '4881', '50151', '6298', '1313', '2466', '2194', '2183', '5809', '42', '2393', '4830', '4736', '4651', '341', '3913', '4524', '6290', '611', '44840', '6000', '5617', '4494', '55818', '11772', '1604', '1240', '4775', '4868', '4479', '3293', '814', '475', '4675', '4327', '4647', '57', '4018', '1242', '22737', '79', '56296', '1894', '1068', '51363', '570', '555', '43169', '3945', '5242', '1656', '9489', '682', '17448', '11246', '4035', '4026', '5319', '9417', '2214', '1462', '43363', '50432', '1675', '492', '189', '426', '4741', '1157', '11430', '2892', '205', '4230', '245', '44', '164', '699', '1739', '2017', '50185', '8961', '24137', '44470', '916', '56336', '5461', '49958', '329', '3821', '2871', '12022', '259', '715', '162', '49383', '5456', '5290', '487', '6220', '2688', '23165', '43864', '176', '6305', '1875', '11790', '645', '23887', '1', '35517', '43780', '141', '4221', '3123', '2287', '17665', '5558', '6208', '53577', '3646', '31813', '14203', '51564', '52782', '1581', '41065', '55551', '28445', '5154', '269', '6277', '55338', '749', '3504', '541', '5080', '44070', '3575', '13822', '14269', '38012', '43927', '239', '6085', '51757', '2079', '12205', '6200', '51104', '49648', '23508', '756', '5639', '48987', '1079', '20542', '16938', '5086', '11244', '471', '28946', '54395', '54340', '56208', '5454', '2572', '46002', '3242', '53816', '6178', '1040', '1923', '14908', '27058', '2066', '56517', '29243', '25302', '46848', '44689', '30324', '1774', '1072', '420', '44928', '18312', '43209', '2491', '3081', '6010', '2676', '56403', '4462', '3752', '1337', '1411', '52242', '430', '43195', '43850', '3839', '732', '50668', '40', '1915', '18539', '20471', '52553', '41011', '52240', '1000', '43508', '285', '387', '2375', '4858', '45864', '1200', '105', '1522', '2020', '20298', '4763', '24809', '465', '5415', '4921', '42417', '44672', '51006', '6307', '33333', '405', '4440', '47482', '6144', '51833', '17617', '6114', '53763', '45115', '55468', '44519', '3666', '21446', '1743', '3055', '44561', '273', '5925', '57420', '6247', '51764', '9391', '2696', '98', '6258', '57119', '85', '4302', '1841', '4878', '4', '1176', '18', '476', '56677', '57175', '51606', '4012', '29064', '55986', '1647', '5012', '42578', '53437', '50635', '56483', '56454', '56473', '53121', '45054', '56472', '24', '11455', '54090', '53434', '50841', '51761', '35851', '2164', '3286', '53570', '56502', '45188', '379', '43122', '15730', '56119', '51514', '45341', '42459', '56758', '53260', '51789', '46968', '52467', '54504', '29860', '74', '14415', '51116', '5218', '6181', '57084', '433', '207', '3342', '57556', '51783', '51331', '3936', '483', '5729', '254', '37192', '333', '9869', '985', '241', '56878', '394', '33798', '37444', '43510', '42754', '2146', '10435', '6025', '3346', '46717', '5392', '12123', '7273', '2738', '139', '1050', '950', '65', '149', '43221', '804', '5599', '1865', '37277', '5522', '56132', '6027', '57268', '56610', '55920', '2444', '2782', '6631', '55018', '56213', '43121', '352', '54464', '23536', '51314', '5680', '15473', '1164', '45208', '879', '519', '484', '1998', '3044', '262', '477', '1917', '44983', '321', '20350', '51112', '54807', '49768', '19544', '52689', '535', '1086', '1119', '49848', '14229', '4490', '43810', '56530', '45770', '3896', '1687', '5747', '4639', '13941', '45743', '9752', '11788', '50153', '3417', '612', '41524', '44871', '47068', '32129', '30030', '2161', '21824', '5976', '55599', '54515', '56516', '9336', '42460', '16955', '54301', '56198', '2399', '119', '2638', '11341', '51393', '1608', '46141', '1070', '4215', '5532', '3729', '57535', '55582', '44027', '15027', '3537', '29734', '53573', '8632', '5987', '6716', '754', '11974', '345', '2907', '640', '5476', '6348', '6628', '1170', '4237', '9405', '8082', '6574', '6679', '6303', '38051', '499', '1132', '1610', '42678', '3080', '37685', '11154', '767', '37959', '53858', '43017', '52400', '47922', '47728', '24731', '44823', '19785', '56031', '47022', '55873', '53699', '4466', '50822', '55054', '56435', '56130', '901', '44357', '34960', '30025', '52606', '56327', '46454', '23133', '6189', '1400', '51820', '52021', '43292', '23185', '37400', '42648', '51499', '49107', '1062', '56943', '4595', '50636', '50888', '51989', '45614', '52690', '51652', '44583', '51152', '57001', '391', '53053', '53501', '51803', '44859', '51311', '52771', '44011', '1861', '1017', '3724', '53432', '54860', '51735', '45066', '23062', '4778', '36466', '52028', '6019', '1189', '54280', '47835', '28463', '42522', '20000', '13757', '14228', '47142', '55403', '46326', '5544', '12077', '36043', '22289', '29742', '37109', '19382', '22543', '29979', '57018', '32320', '43259', '44308', '43848', '31897', '44202', '53096', '988', '13650', '5495', '1673', '57470', '47818', '52783', '37440', '44330', '46004', '51663', '16422', '55561', '45182', '37166', '14113', '54540', '51128', '51627', '50852', '49105', '50949', '43222', '159', '14529', '53145', '51169', '52165', '1696', '46133', '2474', '55962', '52383', '44615', '57065', '42319', '37398', '36915', '5846', '32089', '47635', '42771', '43539', '50806', '115', '43410', '53333', '4024', '50752', '51678', '1054', '44678', '44115', '52567', '46287', '48322', '38002', '47534', '52365', '45992', '43975', '56699', '4403', '43361', '37237', '21249', '47931', '43622', '56527', '52574', '56485', '55827', '52025', '11342', '56071', '54186', '4014', '5963', '52249', '50708', '43376', '6263', '51705', '53301', '46874', '54479', '51787', '44610', '52229', '47256', '42897', '43732', '55613', '47501', '47349', '43377', '43653', '42519', '52950', '730', '52388', '50030', '52919', '46285', '47360', '6316', '280', '5948', '340', '57550', '871', '237', '5841', '5916', '2132', '61', '56056', '51586', '45347', '1902', '2094', '56886', '850', '6037', '55573', '43119', '6297', '557', '55711', '42783', '2415', '1438', '6636', '47508', '6619', '158', '6421', '3249', '1631', '10474', '4312', '51993', '8714', '7863', '7253', '23610', '55312', '7885', '924', '41174', '52029', '35117', '51025', '54711', '5501', '1347', '4052', '3335', '21334', '1533', '1554', '31338', '55726', '4251', '24693', '2672', '57158', '890', '5499', '5366', '5726', '5328', '32954', '30038', '42559', '24928', '1626', '21795', '51546', '578', '831', '11731', '6235', '1660', '4877', '45355', '45740', '565', '23631', '577', '56514', '17967', '57461', '376', '4179', '43299', '3289', '30789', '5593', '37020', '2930', '3005', '43234', '11765', '4027', '727', '195', '6224', '2153', '468', '55302', '1065', '844', '6066', '4643', '11871', '54589', '1323', '2004', '35860', '3313', '3933', '1359', '30811', '108', '12018', '16160', '3588', '32419', '5160', '1929', '5333', '6015', '38', '49947', '24126', '53307', '32719', '1051', '51585', '1684', '2428', '43', '1324', '5094', '616', '86', '3801', '47166', '12239', '1168', '53890', '56848', '255', '1279', '784', '16084', '51530', '3426', '618', '6196', '56492', '33085', '581', '2264', '380', '6259', '56892', '53286', '11829', '586', '51912', '55928', '203', '36215', '75', '365', '52876', '275', '5335', '4879', '51737', '35463', '4876', '11460', '925', '37447', '51410', '52994', '479', '1374', '52433', '50755', '457', '18651', '5516', '24474', '512', '2323', '3907', '11424', '45422', '181', '3884', '9502', '9423', '526', '3197', '5774', '7284', '6609', '4774', '3875', '9428', '10973', '46138', '1734', '4975', '3998', '50213', '8809', '9479', '5636', '7648', '6774', '5465', '6641', '7265', '5467', '5019', '8245', '9382', '5', '7626', '182', '136', '522', '6195', '2040', '5293', '12154', '12124', '413', '55', '718', '41002', '51788', '71', '56893', '43585', '5618', '52373', '51136', '56949', '53293', '13372', '52827', '2159', '1982', '51075', '33098', '5117', '13913', '42420', '13905', '56642', '50809', '45167', '5657', '53739', '45354', '53898', '2951', '43646', '44303', '12315', '46650', '57189', '56191', '55177', '18309', '43980', '52086', '56871', '54381', '52640', '51957', '54947', '56963', '1638', '20758', '45417', '53721', '921', '54998', '53019', '52059', '654', '16', '886', '43379', '11852', '5010', '4812', '43538', '1161', '52874', '46772', '56436', '3371', '49847', '54730', '51804', '49896', '50152', '50631', '54812', '53068', '18044', '2648', '5826', '2067', '1404', '49790', '4245', '54926', '42538', '2791', '4560', '55293', '11969', '53663', '53852', '2597', '2682', '45953', '5763', '42574', '48020', '43030', '45769', '21985', '20555', '29024', '2476', '356', '16571', '55107', '54438', '6051', '25906', '52498', '50627', '42677', '43884', '56226', '57149', '51707', '150', '56023', '3459', '4419', '43981', '55842', '42836', '42823', '42221', '37437', '42947', '53152', '45872', '56521', '6005', '17424', '3851', '42239', '43080', '28899', '1150', '169', '10769', '13133', '8015', '1126', '49349', '11443', '497', '3170', '53521', '6106', '14921', '160', '19050', '147', '4334', '57386', '7280', '7285', '6346', '1152', '919', '6638', '1741', '21716', '6427', '424', '3207', '940', '101', '6132', '348', '6049', '49960', '23749', '1280', '23831', '5728', '83', '13209', '47447', '19232', '428', '347', '3011', '673', '1532', '5571', '6187', '441', '5189', '21341', '5091', '11561', '5472', '3782', '455', '2776', '5953', '7526', '7245', '7497', '7257', '7276', '6339', '272', '4722', '419', '54768', '52728', '34686', '51821', '34919', '57052', '4760', '53101', '23708', '6268', '3776', '3725', '148', '4831', '4268', '2771', '14677', '5177', '5159', '97', '35684', '343', '38286', '513', '52146', '6232', '41012', '55727', '51324', '46736', '52925', '52834', '43623', '4355', '1172', '27187', '51568', '55835', '4445', '573', '53025', '42259', '3361', '54774', '56430', '54686', '30261', '977', '5172', '52135', '1730', '12079', '5856', '507', '6341', '6286', '604', '6184', '5595', '6008', '5772', '1975', '2436', '53304', '5845', '17', '1286', '1731', '4984', '6158', '252', '3926', '57159', '3991', '229', '677', '17843', '22809', '2737', '3449', '274', '1748', '3084', '1948', '23281', '1188', '4884', '417', '6138', '1996', '54996', '5815', '2325', '2695', '23490', '481', '704', '491', '12871', '11241', '5477', '111', '1257', '50772', '5904', '4866', '5171', '6122', '4601', '3474', '2200', '3060', '571', '4875', '959', '762', '43562', '2955', '5441', '1746', '5076', '775', '36329', '55890', '6149', '296', '5934', '7282', '174', '3764', '46343', '228', '11256', '6119', '6', '43956', '4299', '22022', '357', '1566', '5965', '44946', '5561', '6029', '42955', '56895', '49851', '1393', '3848', '50649', '5565', '2288', '54264', '6272', '2443', '562', '5013', '19941', '42899', '5907', '15638', '4926', '697', '2423', '1572', '11746', '56771', '52678', '54272', '1426', '6123', '2839', '1563', '46364', '5602', '4691', '43645', '51528', '57636', '49348', '4514', '5231', '5665', '1148', '54886', '54154', '4013', '43836', '52828', '54385', '353', '1781', '43339', '50971', '53100', '42828', '90', '48009', '11552', '17747', '4990', '42603', '47620', '45136', '42493', '5367', '46291', '1396', '6215', '6143', '4744', '4811', '3164', '5578', '44032', '4887', '17789', '11563', '37253', '29688', '49602', '2098', '56723', '53201', '24410', '24959', '52590', '1415', '801', '11461', '6171', '4002', '51129', '2044', '10508', '8990', '6459', '8437', '3982', '3632', '179', '5442', '3809', '2061', '5206', '2274', '1067', '5718', '19008', '2891', '32641', '438', '50799', '44546', '2136', '501', '4409', '3206', '1096', '4983', '24342', '2175', '5520', '4883', '5918', '130', '6151', '6035', '18393', '6190', '2174', '52243', '17089', '1124', '4253', '52857', '2974', '633', '2478', '11439', '53477', '51', '4809', '193', '3810', '17738', '1387', '222', '52235', '1602', '224', '3338', '5321', '6147', '2890', '19251', '51468', '11603', '912', '7', '28310', '36111', '45821', '54482', '37641', '1105', '30018', '4292', '52547', '213', '51853', '3826', '5808', '50', '92', '4826', '7721', '55193', '6156', '685', '12268', '32252', '43566', '44494', '46403', '45488', '46479', '43944', '55049', '6335', '6179', '6417', '6462', '5261', '9066', '17226', '19268', '11621', '34951', '4340', '96', '2985', '6031', '5528', '851', '692', '5849', '401', '46571', '22', '5678', '13537', '5950', '43714', '55829', '2417', '3108', '12333', '44748', '22308', '12360', '2429', '56560', '8888', '7753', '4853', '346', '307', '3350', '40126', '49599', '4854', '120', '3', '4801', '4156', '1725', '47691', '45492', '50290', '21', '49849', '31', '8800', '6332', '116', '3210', '10576', '2135', '1664', '6304', '987', '46001', '165', '278', '3523', '17834', '55474', '1578', '4869', '539', '178', '470', '4043', '266', '396', '20040', '17731', '23499', '44433', '537', '42342', '45934', '5932', '4379', '463', '5803', '55891', '51891', '289', '11754', '47787', '19148', '57291', '54151', '56257', '22426', '6818', '12162', '187', '50629', '45139', '12939', '503', '45965', '6287', '366', '7337', '28973', '45869', '451', '859', '5363', '11654', '18389', '836', '18182', '5991', '49792', '460', '55109', '4443', '72', '359', '44096', '15652', '52749', '52364', '46922', '16998', '44232', '53482', '42357', '4844', '1766', '35751', '55386', '1803', '779', '5641', '53572', '45420', '46600', '1245', '30125', '47389', '4337', '3928', '24376', '33080', '39', '36463', '1047', '56686', '24144', '51323', '2628', '41610', '42715', '45050', '23641', '55379', '47870', '47313', '5887', '46707', '12399', '56054', '6016', '4030', '43857', '44272', '57123', '56468', '54669', '9327', '56280', '57490', '1599', '54572', '51368', '53694', '4152', '107', '31682', '43911', '5273', '44117', '22995', '27326', '32614', '30143', '30010', '54616', '43832', '56354', '43940', '3245', '22253', '4195', '53163', '46886', '1037', '1749', '37270', '46869', '1306', '11248', '1587', '37535', '51131', '53303', '46580', '3142', '51089', '46102', '43493', '52685', '53670', '44548', '56304', '53134', '51506', '56494', '21488', '3854', '3180', '57169', '25082', '2626', '44622', '3373', '47949', '56616', '34223', '31795', '54282', '37615', '51159', '56926', '56992', '45220', '46691', '27895', '56381', '44709', '43881', '55583', '20518', '43317', '52934', '44720', '43988', '44081', '44925', '55679', '51863', '22533', '46302', '57298', '56471', '52114', '51145', '56876', '51022', '57047', '53159', '51273', '44651', '46020', '57274', '6295', '5538', '486', '49752', '6579', '777', '1226', '9504', '10815', '5212', '14143', '662', '4261', '53318', '52293', '20398', '55693', '16418', '24468', '5475', '6249', '35581', '5033', '14579', '549', '47343', '5252', '199', '16002', '643', '3827', '46663', '5288', '4745', '18951', '53214', '3513', '16903', '740', '33152', '49718', '53089', '4653', '1328', '1384', '6239', '1350', '1727', '20421', '672', '1209', '55948', '29925', '5025', '5559', '54070', '173', '297', '1221', '49492', '20884', '452', '5980', '5679', '5628', '958', '3941', '51959', '8686', '50849', '55445', '56973', '41291', '780', '49791', '46777', '44038', '5386', '54331', '52538', '56048', '56266', '3580', '865', '49929', '7287', '9867', '6136', '4147', '2646', '1542', '2570', '283', '398', '23699', '45088', '66', '11223', '54863', '6315', '35924', '59', '2798', '46151', '57621', '35527', '56576', '5099', '2154', '42028', '52335', '51007', '7264', '17903', '4817', '6095', '6180', '4943', '5269', '5082', '5537', '1338', '1988', '825', '2475', '48107', '51334', '56936', '46318', '22604', '320', '43129', '45894', '48232', '30', '52953', '5180', '14301', '755', '219', '17315', '53983', '20293', '18126', '53102', '57220', '51932', '52183', '49931', '43144', '56413', '6311', '46984', '53083', '53061', '49', '23000', '45936', '3362', '56107', '1369', '17241', '5935', '6709', '1329', '2994', '5048', '37759', '36816', '287', '13710', '166', '6050', '35095', '5589', '397', '301', '232', '220', '28', '2026', '415', '18926', '582', '999', '57614', '78', '1095', '52119', '6128', '81', '106', '54979', '3135', '6032', '4323', '30014', '46853', '54398', '33254', '44141', '44005', '34275', '317', '33222', '56683', '51594', '50858', '56564', '57146', '53559', '54957', '518', '19040', '23307', '1330', '11269', '42758', '51081', '45765', '1153', '2749', '45672', '10463', '1966', '23', '3777', '31622', '43819', '37887', '6308', '204', '6300', '56480', '56246', '52870', '3637', '51556', '53796', '17920', '3746', '217', '444', '212', '1949', '198', '922', '3237', '5733', '34179', '2556', '1006', '1133', '11470', '51693', '54', '1957', '6243', '4835', '299', '6253', '4793', '286', '10828', '6426', '3676', '11711', '11566', '46559', '4453', '7861', '26', '15235', '20550', '4432', '6033', '1891', '44010', '4034', '33099', '1857', '1672', '56278', '13735', '15720', '5672', '5851', '197', '17674', '412', '43489', '5960', '3559', '62', '42345', '56695', '29608', '384', '11636', '5190', '9567', '6319', '9866', '9380', '4350', '9500', '8375', '3859', '9146', '2703', '6330', '6596', '8205', '9358', '2859', '9553', '7167', '1113', '4592', '19009', '9572', '4541', '7006', '7003', '9636', '8000', '170', '4710', '3722', '4538', '188', '9397', '9147', '50186', '342', '8101', '216', '7263', '42784', '48444', '263', '3424', '143', '9425', '9374', '11266', '56657', '50317', '538', '277', '725', '4065', '602', '5492', '35916', '44211', '12457', '370', '1233', '3773', '1371', '47901', '12846', '3597', '1751', '6191', '17681', '637', '4739', '1378', '16109', '6230', '110', '233', '30036', '3410', '450', '34409', '38165', '2119', '439', '3885', '17756', '5145', '1912', '3833', '50475', '5278', '49959', '47222', '13897', '2473', '5930', '6154', '5910', '3714', '109', '42886', '211', '49108', '4183', '1223', '56356', '3078', '46592', '54880', '11234', '21911', '4343', '41', '221', '2764', '35', '56767', '43873', '25112', '53399', '4748', '22450', '18592', '48013', '50316', '56584', '3453', '6598', '49769', '2661', '6166', '5322', '3794', '1780', '38284', '880', '21806', '689', '6688', '43137', '46132', '34349', '6746', '23987', '5567', '8937', '33167', '35118', '43441', '688', '251', '1952', '11331', '2590', '44335', '2514', '54601', '1866', '19715', '49717', '1877', '5742', '5487', '50833', '32019', '330', '15163', '1830', '30887', '28801', '30249', '1129', '3866', '554', '358', '5323', '13034', '53613', '43898', '55113', '64', '52443', '24467', '52607', '638', '5092', '53576', '5656', '3136', '4867', '6714', '21122', '104', '15554', '214', '4790', '22581', '6074', '45777', '51045', '4659', '1088', '33274', '43212', '18712', '4424', '51030', '46414', '4007', '956', '1139', '1179', '42656', '42906', '44245', '5621', '56163', '51996', '5629', '765', '2614', '6241', '55822', '686', '3950', '48', '23467', '469', '12552', '19237', '19087', '4880', '46496', '5418', '51521', '46794', '45981', '812', '57004', '45591', '265', '57009', '3723', '44436', '4922', '56228', '50031', '782', '35001', '5598', '25127', '49812', '6248', '4657', '5439', '19410', '54956', '24661', '3680', '1640', '1186', '636', '46412', '5253', '5276', '19589', '56924', '43863', '6614', '51723', '43600', '49830', '5927', '515', '45064', '4314', '9471', '6680', '45677', '505', '8078', '191', '498', '144', '750'];
    }

    public function update_article(Request $request)
    {
        $site = $request->get('site', 'mayi');
        $type = $request->get('type', 1);
        $update_articles = BookUpdateArticle::where('type', $type)->where('site', $site)->get();
        $ids = $update_articles->pluck('id');

        $update_article_ids = $update_articles->pluck('local_article_id')->unique()->toArray();

        foreach ($update_article_ids as $article_id){
            if($article_id == 0){
                continue;
            }
            dispatch((new AutoArticleAllJob($article_id))->onQueue(QueueNameEnum::UPDATE_ALL_JOB));
        }
        BookUpdateArticle::whereIn('id', $ids)->delete();
        return view('static/mayi', ['update_articles' => $update_articles]);
    }

    public function update_article_crontab()
    {
        Artisan::call("collect:article", []);
    }
}
